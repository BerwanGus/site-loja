<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/css/style.css" />
    <title>Document</title>
  </head>
  <body id="reg-page">
    <header>
      <!--header principal-->
      <nav class="header-nav">
        <a href="/public/html/contact.html" target="_blank"> Contact</a>
        <a href="" target="blank"> Products</a>
        <a href="" target="blank">
          <img
            src="/imgs/icons/shopping_cart-white-24dp.svg"
            alt="Cart image"
          />
        </a>
        <a href="/public/html/registration.html" target="_blank"> Login</a>
      </nav>
    </header>
    <main>
      <form class="reg-form">
        <input
          class="reg-form-child"
          type="text"
          name="fname"
          id="fname"
          placeholder="First name."
        />
        <input
          class="reg-form-child"
          type="text"
          name="lname"
          id="lname"
          placeholder="Last name."
        />
        <input
          class="reg-form-child"
          type="password"
          name="pword"
          id="pword"
          placeholder="Password"
        />
        <input
          class="reg-form-child"
          type="password"
          name="pword-val"
          id="pword-val"
          placeholder="Confirm password"
        />
        <input
          class="reg-form-child"
          type="button"
          id="r-formbutton"
          value="Submit"
        />
      </form>
    </main>
  </body>

  <script>
    //Lista de usuários.
    let users = [];

    //Função para adicionar um usuário novo a partir da construção
    //de um objeto user.
    function addUser() {
      //Variáveis para validação da senha.
      let pword = document.getElementById("pword").value;
      let pwordVal = document.getElementById("pword-val").value;

      if (pword == pwordVal) {
        let user = {
          id: users.length,
          fname: document.getElementById("fname").value,
          lname: document.getElementById("lname").value,
          pword: document.getElementById("pword").value,
        };

        //Atribui um valor ao objeto user para referenciação.
        user = user.id;
      } else {
        alert("Passwords not compatible.");
        return;
      }

      alert("User successfully added.");

      //Enviar o user à lista de usuários.
      users.push(user);
    }

    document.getElementById("r-formbutton").addEventListener("click", addUser);
  </script>
</html>
